## 前提介绍
Emacs使用组合键来实现各种功能，其他通常包含CONTROL键(ctrl)和META键(Alt)与字符同时按下激活相应的命令。  
- C-\<chr> 表示当输入字符chr时按下CNOTROL键：C-f 就是按下CONTROL键的同时按下f
- M-\<chr> 表示当输入字符chr时按下META键

## 基本光标控制
由于emacs并没有类似vim中的Normal模式，所以其都是在类似插入模式下工作，所以其移动必然需要使用组合键来实现，当然方向键也可以。

最基本的移动：
- 上一行:C-p previous
- 下一行:C-n next
- 左移一个字符:C-b backward
- 右移一个字符:C-f forward

词移动：
基本移动只能一个字符一个字符的移动，如果想要快速移动可以使用词移动。不过需要注意的是这种移动是针对有英语环境的，对于中文则是移动到下一个标点符号处。
- 左移一个单词:M-b
- 右移一个单词:M-f

首尾移动：
- 移动到行首:C-a
- 移动到行尾:C-e
- 移动到句首:M-a
- 移动到句尾:M-e
- 移动到文件首:M-< 由于小于号需要按下shift，所以这个快捷键需要按下三个按键
- 移动到文件尾:M-> 

> 特别说明：我们看到 C-b/M-b C-f/M-f C-a/M-a C-e/M-e这几对两两之间有关系。通常的惯例是：META系列组合键用来操作由语言定义的单位(比如词、句子、段落等)。而CONTROL系列组合键用来操作与语言无关的基本单位(比如字符、行等)

屏幕移动：
- 向前移动一屏:C-v
- 向后移动一屏:M-v
- 光标置于屏幕中央:C-l 第一次执行将光标置于中央，第二次置于屏幕顶端，再次按下置于屏幕低端，循环

> 总结：大部分Emacs命令都可以接受数字参数，对于多数命令而言这个数字参数的作用是指定命令的重复次数。对于以上移动命令都可以指定数字参数，其具体方法为：先输入C-u 然后输入数字作为参数然后在执行命令  
> C-u 8 C-f 右移8个字符  
> C-u 5 C-v 屏幕前移8行，注意C-v M-v有些特别是移动多少行，而不是多少屏

## 如果emacs失去响应

如果emacs对你的命令失去响应，可以用 C-g来安全地终止这条命令。  

> C-u 8 C-g C-f 此时会移动一个字符，因为C-u 8这个命令被C-g终止了。

## 插入与删除
插入文字很简单，直接敲键盘就可以了。普通的字符，而删除在emacs中定义了很多的按键：


基本的删除/移除操作：
> del   删除光标前的一个字符
> C-d   删除光标后的一个字符
> M-del 移除光标前的一个词
> M-d   移除光标后的一个词
> C-k   移除从光标到行尾间的字符
> M-k   移除从光标到句尾间的字符

通用的移除操作：  
emacs中提供了类似vim中visual模式下的选择来删除文本。  
> 第一步:按下C-spc spc代表空格，该命令也可能被设置为输入法，此时可以按下 C-@ 注意这需要同时按下ctrl shift 2
> 第二步:移动光标，可以使用上面的光标控制按键来移动，此时屏幕下方显示Mark set并且你选择的部分会以灰色显示
> 第三步:输入C-w,此时你所选择的部分将别删除

> 注意：在emacs中移除(kill)与删除(delete)是不一样的，被移除的部分可以被重新插入(相当与剪切了)，而被删除的部分就被Emacs抛弃了，无法重新召回(可以使用撤销来恢复).  
> 要想召回使用C-y命令(yank)  
> 这个操作非常类似与vim中的d，实际上d并不是删除而是存放到寄存器中了，使用y来粘贴出来，而emacs基本上原理一样，就是快捷键不同了  
> 注意：如果多次按下C-k 那么所有被删除的行会被存储在一起，一个C-y会被全部召回。  
> C-y可以召回最近一次的修改，而M-y可以召回前几次的修改，执行M-y就向前召回一次，直到重新召回最近的修改，这是个循环。  

撤销：  
> C-/   如果你想撤销前一个操作可以使用undo命令来达到，C-_  C-x u 也可以实现相同的操作，不过推荐使用C-/

## 文件

> C-x C-f   寻找一个文件打开
> C-x C-s   保存一个文件  
> 注意：默认情况下，第一次存盘的时候，Emacs会将原文件重命名以备份，通常在文件名之后添加~字符  
> 如果不想应用这个备份设置 可以使用命令 M-x customize-variable \<Return> make-backup-files \<Return>

### 缓冲区

我们知道使用C-x C-f来打开文件，你可以在Emacs中打开多个文件，虽然窗口上只能显示一个文件，但是Emacs并没有将他们关闭，而是将他们放到了缓存区中,我们寻找到一个文件，Emacs都会在其内部开辟一个缓冲区。

> C-x C-b   可以列出当前所有的缓冲区 buffer,此时会打开一个新的窗口来列出Emacs中已经打开的缓冲区，如果想要关闭使用 C-x 1 这个命令实际上是控制多窗口的命令
> 注意：不管存在多少个缓冲区，任何时候你只能编辑其中的一个就是当前缓冲区。如果你想要编辑其他的缓冲区，则需要切换到其他缓冲区中。如何切换：C-x C-f是一种方法， 他并不是直接切换而是将文件重新加载到缓冲区，而实际切换可以使用：  
> C-x b 缓冲区名称  切换到其他缓冲区中  
> 大多情况下，缓冲区与跟其对应的文件是同名的。缓冲区并不是一定对应一个文件，有些Emacs中定义的一些特殊的缓冲区，通常前后有*号  
> 如果你对一个文件进行了修改，然后切换到另一个文件，这个动作并不会帮助你保存文件，除非你执行C-x C-s命令，但是如果你忘记了就必须回到你没有保存的缓冲区中去保存，但是Emacs中提供了一个命令来保存所有的缓存区:  
> C-x s 保存多个缓冲区

### 自动保存
Emacs会定期将正在编辑的文件写入一个自动保存的文件中，自动保存文件的文件名的头尾会添加一个#号，当你文件正常保存以后Emacs会将该文件删除。但是假设由于停电等原因没有及时保存文件，那么就可以从这个文件中恢复你的文件：  
> M-x recover file  来恢复你的自动保存文件

## 命令集扩展
Emacs的命令非常的多，如果把他们都对应到C M组合键上显然无法完成，在vim中提供了多种模式 leader等来解决问题，Emacs则使用扩展命令来解决这个问题，扩展命令有两种风格:

> C-x   字符扩展，其后输入另一个字符或者组合键  
> M-x   命令名扩展，之后输入一个命令名


## 搜索
Emacs提供了可以向前向后搜索字符串的命令。其也是一个移动光标的命令，搜索成功后，光标会停留到搜索目标出现的地方。  
> C-s   向前搜索  
> C-r   向后搜索

## 多窗格
Emacs能够在屏幕上同时显示多个窗格：  
> C-x 2 垂直分割窗口
> C-x 3 水平分割窗口
> C-x 1 关闭其他窗口，仅留下目标窗口
> C-x o 选择下一个窗口，如果有多个窗口是循环移动的
> C-M-v 滚动下一个窗口(此时光标是不移动的)
> C-x 4 b   在另一个窗口打开buffer
> C-x 4 f   在另一个窗口打开文件
> C-x 0 关闭当前窗口

## 获取更多帮助

> C-h ? 列出Emacs提供的帮助
> C-h c C-p 列出C-p绑定的函数
> C-h k C-p C-p命令的详细信息

## 退出

如果你使用图形界面，最简单的退出方法就是按下X号，如果是命令行界面则需要执行 C-x C-c  
需要注意的是，在命令行界面下可以使用 C-z 来暂时离开Emacs，就相当与图形界面的最小化，当你需要的时候还可以回来(在常用的shell中使用fg或者%emacs来返回)，需要注意的时其并没有保存你的输入，所以记着退出或者置于后台的时候先执行下C-x s